# システム構成について

前項に上げた3つのイメージを利用して、K8s上でのシステム構成を考えると、こういう感じになります。


```{figure} ./images/structure.drawio.png
構成図サンプル
```

- web,appはそれぞれDeploymentで管理されます
- dbはStatefulSetで管理されます
- app,dbは他から呼ばれるため、ClusterIPでサービスを作成し対応します
- webは外部から呼ばれるため、NodePortでサービスを作成し対応します

この時点で考えられる問題点は、以下のものがあげられます。

- ソースコードの共有はどうするのか(app,web間)
- 設定の保持をどうするのか(app,db間)

実際に構築しなが考えていきましょう。

